<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Titolo del post del blog">
    <title>Breaking Caesar's Cypher</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: "Helvetica", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #fafafa;
            color: #333;
        }

        header {
            background-color: #222;
            color: white;
            padding: 1.5rem 0;
            text-align: center;
        }

        main {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            padding: 2rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 10px;
        }

        article h1 {
            color: #111;
            margin-bottom: 0.5rem;
        }

        .post-meta {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }

        article img {
            width: 100%;
            border-radius: 10px;
            margin: 1rem 0;
        }

        footer {
            text-align: center;
            padding: 1rem;
            background-color: #222;
            color: white;
            font-size: 0.9rem;
        }

        .riquadro-testo {
      width: 400px;
      padding: 20px;
      margin: 40px auto;
      background-color: #f8f9fa;
      border: 2px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      font-family: Arial, sans-serif;
      font-size: 16px;
      color: #333;
      line-height: 1.5;
      overflow-y: auto; /* permette lo scroll se il testo √® lungo */
      max-height: 200px; /* limita l'altezza */
    }
    </style>
</head>
<body>

    <header>
        <h1>Homework 2</h1>
    </header>

<main>

    <article>
<section id="dataset-distributions" style="font-family: Arial, sans-serif; padding: 2rem; background-color: #f9f9f9; line-height: 1.6;">
  <h2 style="color: #2c3e50;">üìä Datasets and Distributions in DBMS</h2>
  <p>
    In a <strong>Database Management System (DBMS)</strong>, a <strong>dataset</strong> represents a collection of organized data, 
    usually stored in tables that may be related to each other.  
    Each table describes a specific aspect of the system, and every row (or record) represents an individual data instance ‚Äî 
    such as a customer, a product, or a transaction.
  </p>

  <h3 style="color: #34495e;">Example Dataset: Online Store Management</h3>
  <p>
    Let‚Äôs consider a database used to store information for an online shop.  
    It could include tables such as:
  </p>

  <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; background-color: white;">
    <caption style="font-weight: bold; margin-bottom: 0.5rem;">Table: <em>Customers</em></caption>
    <thead style="background-color: #ecf0f1;">
      <tr>
        <th>Customer_ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>City</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>Luca Rossi</td>
        <td>luca.rossi@example.com</td>
        <td>Milan</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Giulia Bianchi</td>
        <td>giulia.bianchi@example.com</td>
        <td>Rome</td>
      </tr>
    </tbody>
  </table>

  <br>

  <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; background-color: white;">
    <caption style="font-weight: bold; margin-bottom: 0.5rem;">Table: <em>Orders</em></caption>
    <thead style="background-color: #ecf0f1;">
      <tr>
        <th>Order_ID</th>
        <th>Customer_ID</th>
        <th>Order_Date</th>
        <th>Total (‚Ç¨)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>101</td>
        <td>1</td>
        <td>2025-09-20</td>
        <td>120.00</td>
      </tr>
      <tr>
        <td>102</td>
        <td>2</td>
        <td>2025-09-22</td>
        <td>75.50</td>
      </tr>
    </tbody>
  </table>

  <h3 style="color: #34495e; margin-top: 2rem;">Data Distributions</h3>
  <p>
    <strong>Distributions</strong> describe how the values of a given attribute are spread across a dataset.  
    For example, we can analyze the distribution of customers by city or of order totals by amount.
  </p>

  <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; background-color: white;">
    <caption style="font-weight: bold; margin-bottom: 0.5rem;">Customer Distribution by City</caption>
    <thead style="background-color: #ecf0f1;">
      <tr>
        <th>City</th>
        <th>Number of Customers</th>
        <th>Percentage</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Milan</td>
        <td>50</td>
        <td>40%</td>
      </tr>
      <tr>
        <td>Rome</td>
        <td>30</td>
        <td>24%</td>
      </tr>
      <tr>
        <td>Turin</td>
        <td>20</td>
        <td>16%</td>
      </tr>
      <tr>
        <td>Other</td>
        <td>25</td>
        <td>20%</td>
      </tr>
    </tbody>
  </table>

  <p style="margin-top: 1rem;">
    This information is essential to better understand the behavior of data, optimize queries, 
    and make data-driven decisions using statistical analysis and <em>data distribution</em>.
  </p>
</section>
<section id="univariate-bivariate-distributions" style="font-family: Arial, sans-serif; padding: 2rem; background-color: #ffffff; line-height: 1.6;">
  <h2 style="color: #2c3e50;">üìà Univariate and Bivariate Distributions</h2>
  <p>
    In data analysis, <strong>distributions</strong> describe how the values of one or more variables are organized 
    within a dataset. We typically distinguish between two main types:
  </p>

  <h3 style="color: #34495e;">1Ô∏è‚É£ Univariate Distribution</h3>
  <p>
    A <strong>univariate distribution</strong> involves only one variable.  
    It helps us understand how the values of that single attribute are spread.  
    For example, in our online shop database, we can study the distribution of 
    <strong>order totals</strong>.
  </p>

  <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; background-color: #fdfdfd;">
    <caption style="font-weight: bold; margin-bottom: 0.5rem;">Univariate Distribution: Order Totals</caption>
    <thead style="background-color: #ecf0f1;">
      <tr>
        <th>Total Range (‚Ç¨)</th>
        <th>Number of Orders</th>
        <th>Percentage</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>0 - 50</td>
        <td>40</td>
        <td>25%</td>
      </tr>
      <tr>
        <td>51 - 100</td>
        <td>70</td>
        <td>43.8%</td>
      </tr>
      <tr>
        <td>101 - 200</td>
        <td>35</td>
        <td>21.9%</td>
      </tr>
      <tr>
        <td>Over 200</td>
        <td>15</td>
        <td>9.3%</td>
      </tr>
    </tbody>
  </table>

  <p style="margin-top: 1rem;">
    From this distribution, we can see that most orders fall within the <strong>‚Ç¨51‚Äì100</strong> range ‚Äî 
    valuable information for pricing and marketing strategies.
  </p>

  <h3 style="color: #34495e; margin-top: 2rem;">2Ô∏è‚É£ Bivariate Distribution</h3>
  <p>
    A <strong>bivariate distribution</strong> analyzes the relationship between <em>two variables</em>.  
    In our case, we can study how a customer's <strong>city</strong> relates to their 
    <strong>average order value</strong>.
  </p>

  <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; background-color: #fdfdfd;">
    <caption style="font-weight: bold; margin-bottom: 0.5rem;">Bivariate Distribution: City vs Average Order Value</caption>
    <thead style="background-color: #ecf0f1;">
      <tr>
        <th>City</th>
        <th>Number of Customers</th>
        <th>Average Order Value (‚Ç¨)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Milan</td>
        <td>50</td>
        <td>110.50</td>
      </tr>
      <tr>
        <td>Rome</td>
        <td>30</td>
        <td>95.20</td>
      </tr>
      <tr>
        <td>Turin</td>
        <td>20</td>
        <td>80.30</td>
      </tr>
      <tr>
        <td>Other</td>
        <td>25</td>
        <td>75.10</td>
      </tr>
    </tbody>
  </table>

  <p style="margin-top: 1rem;">
    From this example, we can observe that customers from <strong>Milan</strong> tend to spend more 
    than those in other cities.  
    This correlation might suggest geographical differences in purchasing behavior.
  </p>

  <p>
    Bivariate distributions are often visualized through <em>scatter plots</em> or <em>heatmaps</em>, 
    which help illustrate the relationship between two quantitative variables.
  </p>

  <blockquote style="border-left: 4px solid #3498db; padding-left: 1rem; color: #555; background-color: #f4faff;">
    üí° <strong>In summary:</strong>  
    - A <strong>univariate distribution</strong> analyzes one variable (e.g., order totals).  
    - A <strong>bivariate distribution</strong> studies the relationship between two variables (e.g., city and average spending).  
  </blockquote>
</section>

        <h1>Breaking Caesar's Cypher</h1>
        <div class="post-meta">
            <span>Posted on October 12, 2025 by Andrea Buratti</span>
        </div>
        <p>Caesar's cypher is a simple substitution cipher where each letter in the plaintext is shifted a certain number of places down or up the alphabet. For example, with a shift of 3, 'A' would be replaced by 'D', 'B' would become 'E', and so on.</p>
        <p>To break Caesar's cypher, one common method is to use frequency analysis. This involves analyzing the frequency of letters in the encrypted text and comparing it to the known frequency of letters in the language of the plaintext. In English, for example, 'E' is the most common letter, followed by 'T', 'A', 'O', 'I', and 'N'. By identifying the most frequent letters in the ciphertext, we can make educated guesses about which letters they correspond to in the plaintext.</p>
        <p>Another approach is to try all possible shifts (there are only 25 possible shifts in a standard alphabet) and see which one produces a readable message. This brute-force method is feasible due to the limited number of possibilities.</p>
        <p>Once we have identified a potential shift, we can decode the entire message and check if it makes sense. If it does, we have successfully broken the cypher!</p>
    
        <h2>The Procedure</h2>
                <p>To implement the breaking of Caesar's cypher, we can follow these steps:</p>

                <ol>
                    <li>Count the frequency of each letter in the ciphertext.</li>
                    <li>Identify the most frequent letters and make educated guesses about their plaintext equivalents.</li>
                    <li>Try all possible shifts and decode the message for each shift.</li>
                    <li>Check the decoded messages for readability and coherence.</li>

                </ol>

                <h3> The first step</h3>
                <p> We first need to take a text and encrypt it, then we will try to break the cypher.</p>
                <div class="riquadro-testo">
                    <p>Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, ‚Äúand what is the use of a book,‚Äù thought Alice ‚Äúwithout pictures or conversations?‚Äù

So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.

There was nothing so very remarkable in that; nor did Alice think it so very much out of the way to hear the Rabbit say to itself, ‚ÄúOh dear! Oh dear! I shall be late!‚Äù (when she thought it over afterwards, it occurred to her that she ought to have wondered at this, but at the time it all seemed quite natural); but when the Rabbit actually took a watch out of its waistcoat-pocket, and looked at it, and then hurried on, Alice started to her feet, for it flashed across her mind that she had never before seen a rabbit with either a waistcoat-pocket, or a watch to take out of it, and burning with curiosity, she ran across the field after it, and fortunately was just in time to see it pop down a large rabbit-hole under the hedge.

In another moment down went Alice after it, never once considering how in the world she was to get out again.</p>
                </div>

                <p> Of course, punctuation and spaces are not encrypted, so they remain the same in the cyphertext. Maybe there can be some sort of exploit
                regarding them, but that's not the point, i really like Alice in Wonderland so let me use it!</p>

                <h3> The second step</h3>
                <p> 
                    Now we need to encrypt the text, for that we need a key, which is just a number between 1 and 25, representing the shift. Clicking on the "generate key" button should
                    do the work, and you will see the text getting encrypted right away
                </p>

                <button onclick="generateKey(),analizzaTesto()">Generate Key</button>

                <p> Now that we encrypted the text, we will try to break it. Again, the rule is that, even when shifting letters, their count won't change. We can guess how much the shift was
                    by simply counting! </p>

                <h3> The third step</h3>
                <p>
                    Counting the letters is not that big of a task, and the results are listed below:
                </p>
                <div>
                <canvas id="graficoFrequenza" width="400" height="200"></canvas>
                </div>

                <p> As you can see, before the most frequent letter was 'e', which is also the most frequent letter in the English language. Guessing the shift is now easy,since we can observe that
                    the most frequent char changed.
                    There are various ways to do it, my choice is simply to subtract the ascii code of 'e' from the ascii code of the most frequent letter, and then take modulo 26.
                </p>
                <button onclick="alert('The guessed key is: ' + guessKey() + '\nThe actual key is: ' + key)">Guess the Key</button>














    </article>




</main>

    <footer>
        <p>&copy; 2025 Il Mio Blog ‚Äî Tutti i diritti riservati.</p>
    </footer>   

    <script>

        let grafico;

        window.onload = function() {
            analizzaTesto();
        };

        let key = 0;
        let testo = "";


        function analizzaTesto()
        {
            const testo = window.document.getElementsByClassName("riquadro-testo")[0].innerText;
            const frequenza = {};
            let totaleLettere = 0;
            for (let i = 0; i < testo.length; i++) {
                const char = testo[i].toLowerCase();
                if (char >= 'a' && char <= 'z') { // considera solo lettere
                    frequenza[char] = (frequenza[char] || 0) + 1;
                    totaleLettere++;
                }
            }
            const alphabet = 'abcdefghijklmnopqrstuvwxyz'.split('');
            alphabet.forEach(letter => {
                if (!frequenza[letter]) {
                    frequenza[letter] = 0;
                }
            });


            const lettere = Object.keys(frequenza).sort();
            const percentuali = lettere.map(lettera => ((frequenza[lettera] / totaleLettere) * 100).toFixed(2));
            const ctx = document.getElementById('graficoFrequenza').getContext('2d');
            if(grafico) grafico.destroy();

            grafico = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: lettere,
                    datasets: [{
                        label: 'Frequenza (%)',
                        data: percentuali,
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

        }



        function generateKey()
        {
            key = Math.floor(Math.random() * 25) + 1; // genera un numero tra 1 e 25
            encryptText(key);

        }
        
        function encryptText(key)
        {
            testo = window.document.getElementsByClassName("riquadro-testo")[0].innerText;
            let encryptedText = "";
            for(let i = 0; i < testo.length; i++)
            {
                let char = testo[i];
                if(char >= 'a' && char <= 'z')
                {
                    let shiftedCharCode = ((char.charCodeAt(0) - 'a'.charCodeAt(0) + key) % 26) + 'a'.charCodeAt(0);
                    encryptedText += String.fromCharCode(shiftedCharCode);
                }
                else if(char >= 'A' && char <= 'Z')
                {
                    let shiftedCharCode = ((char.charCodeAt(0) - 'A'.charCodeAt(0) + key) % 26) + 'A'.charCodeAt(0);
                    encryptedText += String.fromCharCode(shiftedCharCode);
                }
                else
                {
                    encryptedText += char; // non cambia
                }
            }
            window.document.getElementsByClassName("riquadro-testo")[0].innerText = encryptedText;
        }

        function guessKey()
        {
            // 'e' is the most frequent char in english
            console.log("grafico data", grafico.data);
            console.log("grafico data datasets 0 data", grafico.data.datasets[0].data);
            console.log("grafico data labels", grafico.data.labels);
            const labels = grafico.data.labels;
            let value = [];
            const values = grafico.data.datasets[0].data;
            value = values.map(v => parseFloat(v)); // converti in numeri
            console.log("Values:", value);

            const maxIndex = value.indexOf(Math.max(...value));
            console.log("Max index:", maxIndex);
            const mostFrequentChar = labels[maxIndex];

            const assumedPlaintextChar = 'e';
            console.log("Most frequent char in cyphertext:", mostFrequentChar);
            console.log("Assumed most frequent char in plaintext:", assumedPlaintextChar);

            let guessedKey = (mostFrequentChar.charCodeAt(0) - assumedPlaintextChar.charCodeAt(0) + 26) % 26;
            if(guessedKey === 0) guessedKey = 26; // to avoid 0 key
            console.log("Guessed key:", guessedKey);
            console.log("actual key:", key);
            return guessedKey;
        }


    </script>

</body>
</html>

